<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studyflow</title>
    <script src="js/main.js" type="module"></script>
    <link rel="stylesheet" href="css/main.css">
    <link rel="shortcut icon" href="img/StudyFlow-ico.png" type="image/x-icon">
</head>
<body>
    <main class="inicioSesion">
        <header>
            <div>
                <img src="img/logo.png" alt="Logo de StudyFlow">
            </div>
            <h1>Inicio de Sesión</h1>
        </header>

        <form id="loginForm">
            <div>
                <input type="text" id="username" placeholder="Usuario">
            </div>
            <div>
                <input type="password" id="password" placeholder="Contraseña">
            </div>
            <div>
              <p id="bad-login"></p>
              <button type="submit" id="ingresar" class="" data-page="">Ingresar</button>
            </div>
            <div>
                <button type="button" id="registerBtn" class="navButton" data-page="registro">Crea tu cuenta</button>
            </div>
        </form>
    </main>

    <main class="registro">
        <header>
            <div>
                <img src="img/logo.png" alt="Logo de StudyFlow">
            </div>
            <h1>Crea tu cuenta</h1>
        </header>

        <form id="registerForm">
            <div>
                <input type="text" id="rgt-username" placeholder="Usuario">
            </div>
            <div>
                <input type="password" id="rgt-password" placeholder="Contraseña">
            </div>
            <div>
                <input type="password" id="confirmPassword" placeholder="Confirmar contraseña">
            </div>
            <div>
                <p id="bad-register"></p>
                <button type="submit" id="register" class="" data-page="">Crear cuenta</button>
            </div>
            <div>
                <button type="button"  id="cancelar-registro" class="navButton" data-page="inicioSesion">Ya tengo una cuenta</button>
            </div>
        </form>
    </main>

    <!-- Sección de la vista ver hoy -->
    <section id="verHoy" class="verHoy">
      <div class="header">
        <img src="img/backToLogin.svg" alt="" class="header-button navButton login-back" data-page="inicioSesion">
      </div>
      <div class="header">
        <button class="tab active">Hoy</button>
        <button class="tab navButton" data-page="calendario" id="ir-vista-calendario">Calendario</button>
        <button class="tab navButton" data-page="pomodoro" id="ir-vista-pomodoro">Pomodoro</button>
        <button id="addTaskBtn" class="add navButton" data-page="crearTarea">+</button>
      </div>
      <div class="date-time">
        <div class="date">
          <p class="day"><var id="dia-semana">miercoles</var></p>
          <p class="full-date"><var id="fecha-completa">17 Febrero</var></p>
        </div>
        <p class="time"><var id="hora-actual">6:50 AM</var></p>
      </div>

      <!-- Lista de tareas dinámicas -->
      <div class="tasks" id="tasksContainer"></div>
    </section>

    <main class="calendario">
        <div class="header">
            <img src="img/backToLogin.svg" alt="" class="header-button navButton login-back" data-page="inicioSesion">
        </div>
        <div class="nav">
            <div class="nav-button"><a href="" class="nav-button-text navButton" data-page="verHoy">Hoy</a></div>
            <div class="nav-button-select"><a href="" class="nav-button-text navButton" data-page="calendario">Calendario</a></div>
            <div class="nav-button"><a href="" class="nav-button-text navButton" data-page="pomodoro">Pomodoro</a></div>
            <div class="nav-button-t"><a href="" class="nav-button-text navButton" data-page="crearTarea">+</a></div>
        </div>

        <div class="month-nav">
            <p id="month-bf-text" class="month-nav-text">Mes anterior</p>
            <p class="month-nav-text-select">
                <em id="month-bf" class="month-nav-select">&lt;</em> 
                <em id="month-text" class="month-nav-select">Mes</em> 
                <em id="month-af" class="month-nav-select">&gt;</em> 
            </p>
            <p id="month-af-text" class="month-nav-text">Mes Posterior</p>
        </div>

        <div id="month-calendar" class="month-calendar">
        </div>
    </main>

    <!-- Sección estudio pomodoro -->
    <section id="pomodoro" class="pomodoro">
      <div class="pomodoro-container">
        <header>
          <button class="back-button navButton" data-page="verHoy">
            <img src="img/back-arrow-navigation.svg" data-page="verHoy" alt="Volver">
          </button>
        </header>

        <div class="title-logo">
          <div class="app-icon">
            <img src="img/StudyFlow-ico.png" alt="Logo de StudyFlow">
            <h2>Estudio Pomodoro</h2>
          </div>
        </div>

        <div class="timer-settings">
          <div class="outter-circle">
            <div class="inner-circle">
              <span id="timer"></span>
              <span>min</span>
            </div>
          </div>
          <button class="settings-button" id="openSettings">
            <img src="img/settings.svg" alt="Configuración">
          </button>
        </div>

        <div class="buttons">
          <!-- Botón iniciar -->
          <button class="button button-primary" id="start">Iniciar</button>
          <!-- Botón pausar -->
          <button class="button button-secondary" id="pause">Pausar</button>
          <!-- Botón restablecer -->
          <button class="button button-secondary" id="reset">Restablecer</button>
        </div>

        <footer>
          <div class="streak">
            <p>RACHA POMODORO: <var id="strikeDays">x</var> días <img src="img/fire.svg" alt="Fuego"></p>
          </div>
        </footer>
      </div>
    </section>

    <main class="crearTarea">
        <img class="crearTarea-logo" src="img/logo.png" alt="">
        <h2 class="crearTarea-titulo">Crear Nueva Tarea</h2>
        <div class="crearTarea-form">
            <form action="">
                <div class="crearTarea-inputs">
                    <select name="tipo" id="tipo" class="crearTarea-input">
                        <option value="Default">Tipo</option>
                        <option value="Tarea">Tarea</option>
                        <option value="Estudio">Estudio</option>
                        <option value="Examen">Examen</option>
                    </select>
                    <span id="error-tipo" class="texto-error"></span>
                    <input type="text" name="nombre" placeholder="Titulo" id="titulo" class="crearTarea-input">
                    <input type="datetime-local" name="fecha" id="fecha" class="crearTarea-input">
                    <span id="error-fecha" class="texto-error"></span>
                    <input type="text" name="descripcion" placeholder="Valor" id="valor" class="crearTarea-input">
                </div>
                
                <div class="crearTarea-buttons">
                    <button class="navButton crearTarea-button" data-page="calendario" id="cancelarTarea">Cancelar</button>
                    <button class="navButton crearTarea-button" data-page="crearTarea" id="crearTarea">Crear</button>
                </div>        
            </form>
        </div>
    </main>

    <!-- Modal de configuración (fuera de la sección) -->
  <div class="modal-overlay hidden" id="settingsModal">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">Configuración Pomodoro</span>
        <button class="close-modal" id="closeModal">&times;</button>
      </div>
      <div class="settings-group">
        <label class="settings-label" for="studyTime">Tiempo de estudio (max. 60 minutos)</label>
        <input type="number" id="studyTime" class="settings-input" min="10" max="60" value="25">
      </div>
      <div class="settings-group">
        <label class="settings-label" for="breakTime">Tiempo de descanso (max. 30 minutos)</label>
        <input type="number" id="breakTime" class="settings-input" min="1" max="30" value="5">
      </div>
      <div class="settings-group">
        <label class="settings-label" for="repetitionsCount">Número de repeticiones (max. 10)</label>
        <input type="number" id="repetitionsCount" class="settings-input" min="1" max="10" value="4">
      </div>
      <button class="save-settings" id="saveSettings">Guardar cambios</button>
    </div>
  </div>

  <!-- Popup de notificación -->
  <div id="popupNotification" class="popup hidden">
    <p id="popupMessage"></p>
    <button id="closePopup">Cerrar</button>
  </div>

  <!-- Sonido alarma pomodoro -->
  <audio id="alarmSound" src="img/pomo-alarm.mp3"></audio>

</body>
</html>